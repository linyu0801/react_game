{"version":3,"file":"js/717.77684c10.chunk.js","mappings":"wLAAO,MAAMA,EAAkB,CAE7B,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAEP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAEP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,ICRF,IAAKC,EAAK,SAALA,GAAK,OAALA,EAAAA,EAAK,eAALA,EAAAA,EAAK,+BAALA,CAAK,MAqBV,MAAMC,EAAqB,CAChCC,UAAW,GACXC,iBAAkB,GAClBC,gBAAiB,GACjBC,uBAAwB,GACxBC,YAAaN,EAAMO,KACnBC,iBAAiB,EACjBC,kBAAkB,EAClBC,WAAW,GAGPC,EAAkBC,GACfb,EAAgBc,KAAKC,GACnBA,EAAUC,QAAQC,IAAiBJ,EAAQK,SAASD,OAIzDE,EAAgBC,GACbA,EAAYC,MAAMC,GAA2B,IAAjBA,EAAMC,SAG9BC,GAAUC,EAAAA,EAAAA,KACrB,CAACC,EAAsBC,KACrB,OAAQA,EAAOC,MACb,IAAK,iBACHF,EAAMvB,UAAU0B,KAAKF,EAAOG,SAC5BJ,EAAMrB,gBAAkBO,EAAec,EAAMvB,WAC7CuB,EAAMjB,gBAAkBU,EAAaO,EAAMrB,iBAC3CqB,EAAMf,UAAYe,EAAMjB,gBACxBiB,EAAMnB,YAAcN,EAAM8B,aAC1B,MAEF,IAAK,yBACHL,EAAMtB,iBAAiByB,KAAKF,EAAOG,SACnCJ,EAAMpB,uBAAyBM,EAAec,EAAMtB,kBACpDsB,EAAMhB,iBAAmBS,EAAaO,EAAMpB,wBAC5CoB,EAAMf,UAAYe,EAAMhB,iBACxBgB,EAAMnB,YAAcN,EAAMO,KAC1B,MAGF,IAAK,eACHwB,OAAOC,OAAOP,EAAOxB,GAKzB,ICvEJ,IAAIgC,EACJ,SAASC,IAAiS,OAApRA,EAAWH,OAAOC,OAASD,OAAOC,OAAOG,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUhB,OAAQe,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcR,OAAOU,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,GAAU,CAAE,OAAOJ,CAAQ,EAAUF,EAASU,MAAMC,KAAMP,UAAY,CAGlV,MAAMQ,EAAY,CAACC,EAAMC,KACvB,IAAI,MACFC,EAAK,QACLC,KACGC,GACDJ,EACJ,OAAoB,gBAAoB,MAAOb,EAAS,CACtDkB,MAAO,6BACPC,QAAS,cACTL,IAAKA,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DK,GAAIJ,GACHD,GAAS,KAAMhB,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EsB,EAAG,qOACD,EAEAC,GAA0B,IAAAC,YAAWX,GAE3C,ICvBI,EDuBW,ICtBf,SAAS,IAAiS,OAApR,EAAWf,OAAOC,OAASD,OAAOC,OAAOG,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUhB,OAAQe,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcR,OAAOU,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,GAAU,CAAE,OAAOJ,CAAQ,EAAU,EAASQ,MAAMC,KAAMP,UAAY,CAGlV,MAAMoB,EAAW,CAACX,EAAMC,KACtB,IAAI,MACFC,EAAK,QACLC,KACGC,GACDJ,EACJ,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,MAAO,6BACPC,QAAS,cACTL,IAAKA,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DK,GAAIJ,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EM,EAAG,guBACD,EAEA,GAA0B,IAAAE,YAAWC,GAE5B,IAAf,I,SCGA,MAhBA,SAAoBX,GAA6C,IAA5C,YAAEzC,EAAW,QAAEqD,EAAO,UAAEjD,GAAkBqC,EAC7D,MACMa,EAAWtD,IAAgBN,EAAMO,KAAO,IADtB,KAElBsD,EAAQnD,IAAyB,IAAZiD,EACrBG,EAAW,QAAOH,IAAY3D,EAAMO,KAAO,MAHzB,SAKlB0C,EAAQvC,EADMmD,EAAQ,UAAYC,EACC,KAAIF,MAE7C,OACEG,EAAAA,EAAAA,MAACC,EAAc,CAAAC,SAAA,EACbC,EAAAA,EAAAA,KAACC,EAAW,CAAAF,SAAC,YACZhB,IAGP,EAIA,MAAMe,EAAiBI,EAAAA,GAAOC,IAAGC,WAAA,CAAAC,YAAA,+BAAVH,CAAU,wEAM3BD,EAAcC,EAAAA,GAAOI,GAAEF,WAAA,CAAAC,YAAA,4BAATH,CAAS,qDC1BvBK,EAAe,IAAIC,MADL,IACyB7D,KAAI,CAAC8D,EAAGtC,IAAMA,EAAI,IA+D/D,MA7DA,WACE,MAAOuC,EAAOC,IAAYC,EAAAA,EAAAA,YAAWvD,EAAStB,IACxC,YACJK,EAAW,gBACXE,EAAe,iBACfC,EAAgB,UAChBP,EAAS,iBACTC,GACEyE,EAEElE,EACJF,GACAC,GACAP,EAAUoB,OAASnB,EAAiBmB,SAhBpB,EAiBZqC,EACJjD,IAAcF,EAAkBR,EAAMO,KAAOP,EAAM8B,cAerD,OACEiC,EAAAA,EAAAA,MAACgB,EAAe,CAAAd,SAAA,EACdC,EAAAA,EAAAA,KAACc,EAAW,CACV1E,YAAaA,EACbI,UAAWA,EACXiD,QAASA,KAEXO,EAAAA,EAAAA,KAACe,EAAkB,CAAAhB,SAChBQ,EAAa5D,KAAKqE,IACjB,MAAMC,EAAoBjF,EAAUe,SAASiE,GACvCE,EAAqBjF,EAAiBc,SAASiE,GAC/CG,EAAWF,GAAqBC,EACtC,OACErB,EAAAA,EAAAA,MAACuB,EAAkB,CAEjBC,QAASA,IA3BIC,EAACxE,EAAqBqE,KACzC3E,GAAa2E,IAEb/E,IAAgBN,EAAMO,KACxBsE,EAAS,CAAElD,KAAM,iBAAkBE,QAASb,IAE5C6D,EAAS,CAAElD,KAAM,yBAA0BE,QAASb,IACtD,EAoByBwE,CAAiBN,EAAQG,GACxCI,UAAWJ,EAASpB,SAAA,CAEnBkB,IAAqBjB,EAAAA,EAAAA,KAACwB,EAAgB,IACtCN,IAAsBlB,EAAAA,EAAAA,KAACyB,EAAe,MALlCT,EAMc,OAI3BhB,EAAAA,EAAAA,KAAC0B,EAAmB,CAACL,QA1BLM,IAAMhB,EAAS,CAAElD,KAAM,iBA0BGsC,SAAC,mBAKjD,EAIA,MAAMc,EAAkBX,EAAAA,GAAOC,IAAGC,WAAA,CAAAC,YAAA,yBAAVH,CAAU,gGAS5Ba,EAAqBb,EAAAA,GAAOC,IAAGC,WAAA,CAAAC,YAAA,4BAAVH,CAAU,6FAQ/BkB,EAAqBlB,EAAAA,GAAOC,IAAGC,WAAA,CAAAC,YAAA,4BAAVH,CAAU,yJACrBrB,IAAA,IAAC,MAAE+C,GAAO/C,EAAA,OAAK+C,EAAMC,MAAMC,MAAM,IAQzBC,IAAA,IAAC,UAAER,EAAS,MAAEK,GAAOG,EAAA,OACvCR,EAAYK,EAAMC,MAAMC,OAASF,EAAMC,MAAMG,KAAK,IAIlDR,GAAmBtB,EAAAA,EAAAA,IAAO+B,GAAW7B,WAAA,CAAAC,YAAA,0BAAlBH,CAAkB,2BAKrCuB,GAAkBvB,EAAAA,EAAAA,IAAOgC,GAAU9B,WAAA,CAAAC,YAAA,yBAAjBH,CAAiB,2BAKnCwB,EAAsBxB,EAAAA,GAAOiC,OAAM/B,WAAA,CAAAC,YAAA,6BAAbH,CAAa,wHACzBkC,IAAA,IAAC,MAAER,GAAOQ,EAAA,OAAKR,EAAMO,OAAOL,MAAM,IACvCO,IAAA,IAAC,MAAET,GAAOS,EAAA,OAAKT,EAAMU,KAAK,IAMbC,IAAA,IAAC,MAAEX,GAAOW,EAAA,OAAKX,EAAMO,OAAOH,KAAK,G","sources":["webpack://react_game/./src/constants/ticTacToe.ts","webpack://react_game/./src/pages/Home/reducer.ts","webpack://react_game/./src/assets/circle.svg","webpack://react_game/./src/assets/close.svg","webpack://react_game/./src/components/InfoSection.tsx","webpack://react_game/./src/pages/Home/index.tsx"],"sourcesContent":["export const WIN_STATUS_LIST = [\n  // 橫線\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  // 直線\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  // 斜線\n  [1, 5, 9],\n  [3, 5, 7],\n];\n\nexport const T = 1;\n","import { produce } from 'immer';\nimport { WIN_STATUS_LIST } from '@/constants/ticTacToe';\n\nexport enum Roles {\n  SELF,\n  OTHER_PLAYER,\n}\n\ntype DispatchActionType =\n  | { type: 'RESTART_GAME' }\n  | { type: 'SET_SELF_CHESS'; payload: number }\n  | { type: 'SET_OTHER_PLAYER_CHESS'; payload: number };\n\ntype TicTacToeType = {\n  selfChess: number[];\n  otherPlayerChess: number[];\n  selfRemainSteps: number[][];\n  otherPlayerRemainSteps: number[][];\n  currentRole: Roles;\n  isSelfPlayerWin: boolean;\n  isOtherPlayerWin: boolean;\n  isGameEnd: boolean;\n};\n\nexport const ticTacToeInitState = {\n  selfChess: [],\n  otherPlayerChess: [],\n  selfRemainSteps: [],\n  otherPlayerRemainSteps: [],\n  currentRole: Roles.SELF,\n  isSelfPlayerWin: false,\n  isOtherPlayerWin: false,\n  isGameEnd: false,\n};\n\nconst getRemainSteps = (chesses: number[]) => {\n  return WIN_STATUS_LIST.map((winStatus) => {\n    return winStatus.filter((chessNumber) => !chesses.includes(chessNumber));\n  });\n};\n\nconst isSomeoneWin = (remainSteps: number[][]) => {\n  return remainSteps.some((steps) => steps.length === 0);\n};\n\nexport const reducer = produce(\n  (draft: TicTacToeType, action: DispatchActionType) => {\n    switch (action.type) {\n      case 'SET_SELF_CHESS': {\n        draft.selfChess.push(action.payload);\n        draft.selfRemainSteps = getRemainSteps(draft.selfChess);\n        draft.isSelfPlayerWin = isSomeoneWin(draft.selfRemainSteps);\n        draft.isGameEnd = draft.isSelfPlayerWin;\n        draft.currentRole = Roles.OTHER_PLAYER;\n        break;\n      }\n      case 'SET_OTHER_PLAYER_CHESS': {\n        draft.otherPlayerChess.push(action.payload);\n        draft.otherPlayerRemainSteps = getRemainSteps(draft.otherPlayerChess);\n        draft.isOtherPlayerWin = isSomeoneWin(draft.otherPlayerRemainSteps);\n        draft.isGameEnd = draft.isOtherPlayerWin;\n        draft.currentRole = Roles.SELF;\n        break;\n      }\n\n      case 'RESTART_GAME': {\n        Object.assign(draft, ticTacToeInitState);\n        break;\n      }\n      default:\n        break;\n    }\n  },\n);\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nconst SvgCircle = (_ref, ref) => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/forwardRef(SvgCircle);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"5cfe7dbbb2266e223e77adc22b898a52.svg\";","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nconst SvgClose = (_ref, ref) => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 492 492\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M300.188,246L484.14,62.04c5.06-5.064,7.852-11.82,7.86-19.024c0-7.208-2.792-13.972-7.86-19.028L468.02,7.872 c-5.068-5.076-11.824-7.856-19.036-7.856c-7.2,0-13.956,2.78-19.024,7.856L246.008,191.82L62.048,7.872    c-5.06-5.076-11.82-7.856-19.028-7.856c-7.2,0-13.96,2.78-19.02,7.856L7.872,23.988c-10.496,10.496-10.496,27.568,0,38.052    L191.828,246L7.872,429.952c-5.064,5.072-7.852,11.828-7.852,19.032c0,7.204,2.788,13.96,7.852,19.028l16.124,16.116    c5.06,5.072,11.824,7.856,19.02,7.856c7.208,0,13.968-2.784,19.028-7.856l183.96-183.952l183.952,183.952    c5.068,5.072,11.824,7.856,19.024,7.856h0.008c7.204,0,13.96-2.784,19.028-7.856l16.12-16.116    c5.06-5.064,7.852-11.824,7.852-19.028c0-7.204-2.792-13.96-7.852-19.028L300.188,246z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/forwardRef(SvgClose);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"71b6ba4cbd8ee014d96aacc515d8ec53.svg\";","import React from 'react';\nimport styled from 'styled-components';\nimport { Roles } from '@/pages/Home/reducer';\n\ntype Props = {\n  currentRole: Roles;\n  winRole: number | false;\n  isGameEnd: boolean;\n};\n\nfunction InfoSection({ currentRole, winRole, isGameEnd }: Props) {\n  const otherPlayerName = '對方';\n  const roleText = currentRole === Roles.SELF ? '您' : otherPlayerName;\n  const isTie = isGameEnd && winRole === false;\n  const winText = `遊戲結束，${winRole === Roles.SELF ? '恭喜您' : otherPlayerName}獲勝`;\n  const gameEndText = isTie ? '遊戲結束：平手' : winText;\n  const title = isGameEnd ? gameEndText : `輪到${roleText}選擇`;\n\n  return (\n    <StyledInfoText>\n      <StyledTitle>圈圈叉叉小遊戲</StyledTitle>\n      {title}\n    </StyledInfoText>\n  );\n}\n\nexport default InfoSection;\n\nconst StyledInfoText = styled.div`\n  color: #121212;\n  font-size: 20px;\n  text-align: center;\n  margin-bottom: 20px;\n`;\nconst StyledTitle = styled.h1`\n  font-size: 24px;\n  text-align: center;\n  margin: 10px 0;\n`;\n","import React, { useReducer } from 'react';\nimport styled from 'styled-components';\nimport { Roles, reducer, ticTacToeInitState } from './reducer';\nimport { ReactComponent as CircleIcon } from '@/assets/circle.svg';\nimport { ReactComponent as CloseIcon } from '@/assets/close.svg';\nimport InfoSection from '@/components/InfoSection';\n\nconst CHESS_TOTAL = 9;\nconst chessNumbers = [...Array(CHESS_TOTAL)].map((_, i) => i + 1);\n\nfunction Home() {\n  const [state, dispatch] = useReducer(reducer, ticTacToeInitState);\n  const {\n    currentRole,\n    isSelfPlayerWin,\n    isOtherPlayerWin,\n    selfChess,\n    otherPlayerChess,\n  } = state;\n\n  const isGameEnd =\n    isSelfPlayerWin ||\n    isOtherPlayerWin ||\n    selfChess.length + otherPlayerChess.length === CHESS_TOTAL;\n  const winRole =\n    isGameEnd && (isSelfPlayerWin ? Roles.SELF : Roles.OTHER_PLAYER);\n\n  // console.log({ selfChess, otherPlayerChess, currentRole });\n  const handleChessClick = (chessNumber: number, disabled: boolean) => {\n    if (isGameEnd || disabled) return;\n\n    if (currentRole === Roles.SELF) {\n      dispatch({ type: 'SET_SELF_CHESS', payload: chessNumber });\n    } else {\n      dispatch({ type: 'SET_OTHER_PLAYER_CHESS', payload: chessNumber });\n    }\n  };\n\n  const restartGame = () => dispatch({ type: 'RESTART_GAME' });\n\n  return (\n    <StyledContainer>\n      <InfoSection\n        currentRole={currentRole}\n        isGameEnd={isGameEnd}\n        winRole={winRole}\n      />\n      <StyledCheckerboard>\n        {chessNumbers.map((number) => {\n          const isSelfPlayerChess = selfChess.includes(number);\n          const isOtherPlayerChess = otherPlayerChess.includes(number);\n          const disabled = isSelfPlayerChess || isOtherPlayerChess;\n          return (\n            <StyledChessElement\n              key={number}\n              onClick={() => handleChessClick(number, disabled)}\n              $disabled={disabled}\n            >\n              {isSelfPlayerChess && <StyledCircleIcon />}\n              {isOtherPlayerChess && <StyledCloseIcon />}\n            </StyledChessElement>\n          );\n        })}\n      </StyledCheckerboard>\n      <StyledRestartButton onClick={restartGame}>\n        Restart Game\n      </StyledRestartButton>\n    </StyledContainer>\n  );\n}\n\nexport default Home;\n\nconst StyledContainer = styled.div`\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 16px;\n  background: white;\n  border-radius: 10px;\n`;\n\nconst StyledCheckerboard = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 4px;\n  width: 100%;\n  margin-bottom: 20px;\n`;\n\nconst StyledChessElement = styled.div<{ $disabled: boolean }>`\n  background: ${({ theme }) => theme.chess.normal};\n  border-radius: 16px;\n  padding: 16px;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    background-color: ${({ $disabled, theme }) =>\n      $disabled ? theme.chess.normal : theme.chess.hover};\n  }\n`;\n\nconst StyledCircleIcon = styled(CircleIcon)`\n  fill: white;\n  width: 80%;\n`;\n\nconst StyledCloseIcon = styled(CloseIcon)`\n  fill: white;\n  width: 80%;\n`;\n\nconst StyledRestartButton = styled.button`\n  background: ${({ theme }) => theme.button.normal};\n  color: ${({ theme }) => theme.color};\n  border: none;\n  border-radius: 10px;\n  width: 33%;\n  padding: 10px 16px;\n  &:hover {\n    background-color: ${({ theme }) => theme.button.hover};\n  }\n`;\n"],"names":["WIN_STATUS_LIST","Roles","ticTacToeInitState","selfChess","otherPlayerChess","selfRemainSteps","otherPlayerRemainSteps","currentRole","SELF","isSelfPlayerWin","isOtherPlayerWin","isGameEnd","getRemainSteps","chesses","map","winStatus","filter","chessNumber","includes","isSomeoneWin","remainSteps","some","steps","length","reducer","produce","draft","action","type","push","payload","OTHER_PLAYER","Object","assign","_path","_extends","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","SvgCircle","_ref","ref","title","titleId","props","xmlns","viewBox","id","d","ForwardRef","forwardRef","SvgClose","winRole","roleText","isTie","winText","_jsxs","StyledInfoText","children","_jsx","StyledTitle","styled","div","withConfig","displayName","h1","chessNumbers","Array","_","state","dispatch","useReducer","StyledContainer","InfoSection","StyledCheckerboard","number","isSelfPlayerChess","isOtherPlayerChess","disabled","StyledChessElement","onClick","handleChessClick","$disabled","StyledCircleIcon","StyledCloseIcon","StyledRestartButton","restartGame","theme","chess","normal","_ref2","hover","CircleIcon","CloseIcon","button","_ref3","_ref4","color","_ref5"],"sourceRoot":""}