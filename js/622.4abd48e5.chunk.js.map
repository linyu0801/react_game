{"version":3,"file":"js/622.4abd48e5.chunk.js","mappings":"kJAkFA,UA/EA,WACE,MAAOA,EAAIC,IAASC,EAAAA,EAAAA,aAOpBC,EAAAA,EAAAA,YAAU,KACJH,IAEFI,QAAQC,IAAI,oBAEZC,IACF,GACC,CAACN,IAEJ,MAAMM,EAAgBA,KAEhBN,IACFA,EAAGO,GAAG,cAAeC,IACnBJ,QAAQC,IAAIG,EAAQ,IAEtBR,EAAGO,GAAG,iBAAkBC,IACtBJ,QAAQC,IAAIG,EAAQ,IAEtBR,EAAGO,GAAG,kBAAmBC,IACvBJ,QAAQC,IAAIG,EAAQ,IAEtBR,EAAGO,GAAG,QAASC,IACbJ,QAAQC,IAAIG,EAAQ,IAExB,EAGIC,EAAeC,IACfV,GACFA,EAAGW,KAAKD,EAAM,SAChB,EAEF,OACEE,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,KACNC,QA1CmBC,KAEvBjB,GAAMkB,EAAAA,EAAAA,IAAG,yBAAyB,KA0ChCL,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,gBACNC,QAASA,KACPR,EAAY,aAAa,KAG7BK,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,gBACNC,QAASA,KACPR,EAAY,gBAAgB,KAGhCK,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,oBACNC,QAASA,KACPR,EAAY,iBAAiB,KAGjCK,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,OACNC,QAASA,KACPR,EAAY,OAAO,MAK7B,C","sources":["webpack://react_game/./src/pages/PageA/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\nfunction Main() {\n  const [ws, setWs] = useState<Socket>();\n\n  const connectWebSocket = () => {\n    // 開啟\n    setWs(io('http://localhost:3000'));\n  };\n\n  useEffect(() => {\n    if (ws) {\n      // 連線成功在 console 中打印訊息\n      console.log('success connect!');\n      // 設定監聽\n      initWebSocket();\n    }\n  }, [ws]);\n\n  const initWebSocket = () => {\n    // 對 getMessage 設定監聽，如果 server 有透過 getMessage 傳送訊息，將會在此被捕捉\n    if (ws) {\n      ws.on('getMessage', (message) => {\n        console.log(message);\n      });\n      ws.on('getMessageAll', (message) => {\n        console.log(message);\n      });\n      ws.on('getMessageLess', (message) => {\n        console.log(message);\n      });\n      ws.on('join', (message) => {\n        console.log(message);\n      });\n    }\n  };\n\n  const sendMessage = (name: string) => {\n    if (ws) {\n      ws.emit(name, '收到訊息囉！');\n    }\n  };\n  return (\n    <div>\n      <input\n        type='button'\n        value='連線'\n        onClick={connectWebSocket}\n      />\n      <input\n        type='button'\n        value='送出訊息，只有自己收到回傳'\n        onClick={() => {\n          sendMessage('getMessage');\n        }}\n      />\n      <input\n        type='button'\n        value='送出訊息，讓所有人收到回傳'\n        onClick={() => {\n          sendMessage('getMessageAll');\n        }}\n      />\n      <input\n        type='button'\n        value='送出訊息，除了自己外所有人收到回傳'\n        onClick={() => {\n          sendMessage('getMessageLess');\n        }}\n      />\n      <input\n        type='button'\n        value='加入房間'\n        onClick={() => {\n          sendMessage('join');\n        }}\n      />\n    </div>\n  );\n}\n\nexport default Main;\n"],"names":["ws","setWs","useState","useEffect","console","log","initWebSocket","on","message","sendMessage","name","emit","_jsxs","children","_jsx","type","value","onClick","connectWebSocket","io"],"sourceRoot":""}