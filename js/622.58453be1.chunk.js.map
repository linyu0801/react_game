{"version":3,"file":"js/622.58453be1.chunk.js","mappings":"kJA8EA,UA1EA,WACE,MAAOA,EAAIC,IAASC,EAAAA,EAAAA,YAEdC,EAAmBA,KAEvBF,GAAMG,EAAAA,EAAAA,IAAG,yBAAyB,GAGpCC,EAAAA,EAAAA,YAAU,KACJL,IAEFM,QAAQC,IAAI,oBAEZC,IACF,GACC,CAACR,IAEJ,MAAMQ,EAAgBA,KAEhBR,IACFA,EAAGS,GAAG,cAAeC,IACnBJ,QAAQC,IAAIG,EAAQ,IAEtBV,EAAGS,GAAG,iBAAkBC,IACtBJ,QAAQC,IAAIG,EAAQ,IAEtBV,EAAGS,GAAG,kBAAmBC,IACvBJ,QAAQC,IAAIG,EAAQ,IAExB,EAGIC,EAAeC,IACfZ,GACFA,EAAGa,KAAKD,EAAM,SAChB,EAEF,OACEE,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,KACNC,QAAShB,KAEXa,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,KACNC,QAAShB,KAEXa,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,gBACNC,QAASA,KACPR,EAAY,aAAa,KAG7BK,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,gBACNC,QAASA,KACPR,EAAY,gBAAgB,KAGhCK,EAAAA,EAAAA,KAAA,SACEC,KAAK,SACLC,MAAM,oBACNC,QAASA,KACPR,EAAY,iBAAiB,MAKvC,C","sources":["webpack://react_game/./src/pages/PageA/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\nfunction Main() {\r\n  const [ws, setWs] = useState<Socket>();\r\n\r\n  const connectWebSocket = () => {\r\n    // 開啟\r\n    setWs(io('http://localhost:3000'));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (ws) {\r\n      // 連線成功在 console 中打印訊息\r\n      console.log('success connect!');\r\n      // 設定監聽\r\n      initWebSocket();\r\n    }\r\n  }, [ws]);\r\n\r\n  const initWebSocket = () => {\r\n    // 對 getMessage 設定監聽，如果 server 有透過 getMessage 傳送訊息，將會在此被捕捉\r\n    if (ws) {\r\n      ws.on('getMessage', (message) => {\r\n        console.log(message);\r\n      });\r\n      ws.on('getMessageAll', (message) => {\r\n        console.log(message);\r\n      });\r\n      ws.on('getMessageLess', (message) => {\r\n        console.log(message);\r\n      });\r\n    }\r\n  };\r\n\r\n  const sendMessage = (name: string) => {\r\n    if (ws) {\r\n      ws.emit(name, '收到訊息囉！');\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <input\r\n        type='button'\r\n        value='連線'\r\n        onClick={connectWebSocket}\r\n      />\r\n      <input\r\n        type='button'\r\n        value='連線'\r\n        onClick={connectWebSocket}\r\n      />\r\n      <input\r\n        type='button'\r\n        value='送出訊息，只有自己收到回傳'\r\n        onClick={() => {\r\n          sendMessage('getMessage');\r\n        }}\r\n      />\r\n      <input\r\n        type='button'\r\n        value='送出訊息，讓所有人收到回傳'\r\n        onClick={() => {\r\n          sendMessage('getMessageAll');\r\n        }}\r\n      />\r\n      <input\r\n        type='button'\r\n        value='送出訊息，除了自己外所有人收到回傳'\r\n        onClick={() => {\r\n          sendMessage('getMessageLess');\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"],"names":["ws","setWs","useState","connectWebSocket","io","useEffect","console","log","initWebSocket","on","message","sendMessage","name","emit","_jsxs","children","_jsx","type","value","onClick"],"sourceRoot":""}